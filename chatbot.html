<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Simple AI Chatbot</title>
<style>
  body { font-family:sans-serif; background:#111; color:#fff; display:flex; justify-content:center; align-items:center; height:100vh; }
  #chat-container { width:350px; background:#222; padding:15px; border-radius:10px; }
  #chatMessages { max-height:300px; overflow-y:auto; margin-bottom:10px; }
  .message { padding:8px; margin:5px 0; border-radius:5px; }
  .user-msg { background:#00c6ff; color:#000; text-align:right; }
  .ai-msg { background:#00ffb3; color:#000; text-align:left; }
  input { width:80%; padding:8px; border:none; border-radius:5px; }
  button { padding:8px 10px; border:none; border-radius:5px; background:#00c6ff; color:#000; cursor:pointer; }
</style>
</head>
<body>

<div id="chat-container">
  <div id="chatMessages"></div>
  <input type="text" id="chatInput" placeholder="Type message..." />
  <button id="chatSend">Send</button>
</div>

<script>
const chatMessages = document.getElementById("chatMessages");
const chatInput = document.getElementById("chatInput");
const chatSend = document.getElementById("chatSend");

const OPENAI_API_KEY = "YOUR_OPENAI_API_KEY"; // Replace with your key

function addMessage(text, className){
  const msgDiv = document.createElement("div");
  msgDiv.classList.add("message", className);
  msgDiv.textContent = text;
  chatMessages.appendChild(msgDiv);
  chatMessages.scrollTop = chatMessages.scrollHeight;
}

async function sendMessage(){
  const text = chatInput.value.trim();
  if(!text) return;
  addMessage(text, "user-msg");
  chatInput.value = "";
  
  addMessage("Typing...", "ai-msg");
  
  try{
    const response = await fetch("https://api.openai.com/v1/chat/completions",{
      method:"POST",
      headers:{
        "Content-Type":"application/json",
        "Authorization":`Bearer ${OPENAI_API_KEY}`
      },
      body: JSON.stringify({
        model:"gpt-3.5-turbo",
        messages:[{role:"user", content:text}],
        max_tokens:200
      })
    });
    const data = await response.json();
    const aiText = data.choices[0].message.content.trim();
    const typingDiv = document.querySelector(".ai-msg:last-child");
    typingDiv.textContent = aiText;
  }catch(err){
    const typingDiv = document.querySelector(".ai-msg:last-child");
    typingDiv.textContent = "Error: Could not get response";
    console.error(err);
  }
}

chatSend.addEventListener("click", sendMessage);
chatInput.addEventListener("keypress", e=>{ if(e.key==="Enter") sendMessage(); });
</script>

</body>
</html>
